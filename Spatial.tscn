[gd_scene load_steps=26 format=2]

[ext_resource path="res://addons/zylann.hterrain/hterrain_texture_set.gd" type="Script" id=1]
[ext_resource path="res://addons/zylann.hterrain/hterrain.gd" type="Script" id=2]
[ext_resource path="res://addons/data.hterrain" type="Resource" id=3]
[ext_resource path="res://Spatial_slot0_albedo_bump.packed_tex" type="Texture" id=4]
[ext_resource path="res://Spatial_slot0_normal_roughness.packed_tex" type="Texture" id=5]
[ext_resource path="res://addons/waterways/shaders/river.shader" type="Shader" id=6]
[ext_resource path="res://Spatial_slot1_albedo_bump.packed_tex" type="Texture" id=7]
[ext_resource path="res://Player/Head.gd" type="Script" id=8]
[ext_resource path="res://Spatial_slot1_normal_roughness.packed_tex" type="Texture" id=9]
[ext_resource path="res://addons/waterways/textures/water1_normal_bump.png" type="Texture" id=10]
[ext_resource path="res://addons/waterways/river_manager.gd" type="Script" id=11]
[ext_resource path="res://addons/waterways/textures/foam_noise.png" type="Texture" id=12]
[ext_resource path="res://addons/zylann.scatter/scatter3d.gd" type="Script" id=13]
[ext_resource path="res://Tree/Tree 1/tree.tscn" type="PackedScene" id=14]
[ext_resource path="res://addons/phalzer_forest_01_2k.exr" type="Texture" id=15]

[sub_resource type="Resource" id=1]
script = ExtResource( 1 )
mode = 0
textures = [ [ ExtResource( 4 ), ExtResource( 7 ), null ], [ ExtResource( 5 ), ExtResource( 9 ), null ] ]

[sub_resource type="CubeMesh" id=8]

[sub_resource type="Skin" id=7]

[sub_resource type="BoxShape" id=9]
extents = Vector3( 0.20084, 0.200657, 0.198686 )

[sub_resource type="CapsuleMesh" id=4]

[sub_resource type="CapsuleShape" id=5]

[sub_resource type="Curve3D" id=12]
bake_interval = 0.05
_data = {
"points": PoolVector3Array( 0, 0, -0.25, 0, 0, 0.25, -2.31741, -1.20821, -9.13498, 0.0191498, 0.461086, -0.668274, -0.0191498, -0.461086, 0.668274, 4.26863, -56.9437, 93.0069, -0.491861, -0.202757, -4.29326, 0.491861, 0.202757, 4.29326, 5.13901, -58.1441, 111.118, -0.577961, 0.532791, -2.26482, 0.577961, -0.532791, 2.26482, 21.1424, -54.2173, 195.098 ),
"tilts": PoolRealArray( 0, 0, 0, 0 )
}

[sub_resource type="ShaderMaterial" id=13]
shader = ExtResource( 6 )
shader_param/normal_scale = 1.0
shader_param/uv_scale = Vector3( 1, 1, 1 )
shader_param/roughness = 0.2
shader_param/edge_fade = 0.25
shader_param/albedo_color = Transform( 0, 0.15, 0, 0.8, 0.2, 0, 1, 0.5, 0, 0, 0, 0 )
shader_param/albedo_depth = 10.0
shader_param/albedo_depth_curve = 0.25
shader_param/transparency_clarity = 10.0
shader_param/transparency_depth_curve = 0.25
shader_param/transparency_refraction = 0.05
shader_param/flow_speed = 1.0
shader_param/flow_base = 0.0
shader_param/flow_steepness = 2.0
shader_param/flow_distance = 1.0
shader_param/flow_pressure = 1.0
shader_param/flow_max = 4.0
shader_param/foam_color = Color( 0.9, 0.9, 0.9, 1 )
shader_param/foam_amount = 2.0
shader_param/foam_steepness = 2.0
shader_param/foam_smoothness = 0.3
shader_param/i_lod0_distance = 50.0
shader_param/i_valid_flowmap = false
shader_param/i_uv2_sides = 0
shader_param/normal_bump_texture = ExtResource( 10 )
shader_param/i_texture_foam_noise = ExtResource( 12 )

[sub_resource type="PanoramaSky" id=16]
panorama = ExtResource( 15 )

[sub_resource type="Environment" id=15]
background_mode = 3
background_sky = SubResource( 16 )
background_color = Color( 0.670588, 0.933333, 0.968627, 1 )

[node name="Spatial" type="Spatial"]

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.174367, 0.722711, -0.668794, 0.00709285, 0.680103, 0.733082, 0.984655, 0.123082, -0.123714, 268.284, 30.9736, 356.147 )
light_indirect_energy = 1.06
shadow_enabled = true

[node name="HTerrain" type="Spatial" parent="."]
script = ExtResource( 2 )
lod_scale = 2.0
_terrain_data = ExtResource( 3 )
chunk_size = 16
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 1 )
render_layers = 1
shader_params/u_ground_uv_scale = 20
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 0, 0, 0, 0 )

[node name="Scatter3D" type="Spatial" parent="HTerrain"]
script = ExtResource( 13 )
_scenes = [ ExtResource( 14 ) ]

[node name="Tree" parent="HTerrain/Scatter3D" instance=ExtResource( 14 )]
transform = Transform( -0.972646, 0, 0.232294, 0, 1, 0, -0.232294, 0, -0.972646, 186.461, 4.93108, 375.34 )

[node name="Tree 2" parent="HTerrain/Scatter3D" instance=ExtResource( 14 )]
transform = Transform( 0.446655, 0, -1.058, -0.0376989, 1.14769, -0.0159153, 1.05733, 0.0409206, 0.446372, 194.142, 0.411584, 281.556 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 5, 0, 0, 0, 6, 0, 0, 0, 5, 230.387, 10.0539, 273.358 )
mesh = SubResource( 8 )
skin = SubResource( 7 )

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]
transform = Transform( 5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 9 )

[node name="Player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1.19249e-08, 1, 0, -1, 1.19249e-08, 184.467, 12.1754, 307.412 )
script = ExtResource( 8 )

[node name="MeshInstance" type="MeshInstance" parent="Player"]
transform = Transform( 5, 0, 0, 0, 5, 0, 0, 0, 5, 1, 1, 1 )
mesh = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Player"]
transform = Transform( 5, 0, 0, 0, 5, 0, 0, 0, 5, 1, 1, 1 )
shape = SubResource( 5 )

[node name="Camera" type="Camera" parent="Player"]
transform = Transform( 1, 5.29396e-23, -4.37114e-08, -4.37114e-08, 2.66454e-15, -1, 5.29396e-23, 1, 2.66454e-15, 1, 1, 1 )
far = 1000.0

[node name="River2" type="Spatial" parent="."]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 136.766, 56.7461, 450.443 )
script = ExtResource( 11 )
shape_step_length_divs = 1
shape_step_width_divs = 1
shape_smoothness = 2.253
mat_shader_type = 0
mat_custom_shader = null
mat_normal_scale = 1.0
mat_normal_bump_texture = ExtResource( 10 )
mat_uv_scale = Vector3( 1, 1, 1 )
mat_roughness = 0.2
mat_edge_fade = 0.25
mat_albedo_color = Transform( 0, 0.15, 0, 0.8, 0.2, 0, 1, 0.5, 0, 0, 0, 0 )
mat_albedo_depth = 10.0
mat_albedo_depth_curve = 0.25
mat_transparency_clarity = 10.0
mat_transparency_depth_curve = 0.25
mat_transparency_refraction = 0.05
mat_flow_speed = 1.0
mat_flow_base = 0.0
mat_flow_steepness = 2.0
mat_flow_distance = 1.0
mat_flow_pressure = 1.0
mat_flow_max = 4.0
mat_foam_color = Color( 0.9, 0.9, 0.9, 1 )
mat_foam_amount = 2.0
mat_foam_steepness = 2.0
mat_foam_smoothness = 0.3
lod_lod0_distance = 50.0
baking_resolution = 2
baking_raycast_distance = 10.0
baking_raycast_layers = 1
baking_dilate = 0.6
baking_flowmap_blur = 0.04
baking_foam_cutoff = 0.9
baking_foam_offset = 0.1
baking_foam_blur = 0.02
curve = SubResource( 12 )
widths = [ 27.7762, 25.4575, 28.4706, 28.7543 ]
valid_flowmap = false
flow_foam_noise = null
dist_pressure = null
_material = SubResource( 13 )
_selected_shader = 0
_uv2_sides = 0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 15 )
